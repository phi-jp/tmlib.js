<!DOCTYPE html>

<html>
    
    <head>
        <meta charset="UTF-8" />

        <meta name="viewport" content="width=device-width, user-scalable=no" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <title>tmlib.js</title>
        
        <link rel="shortcut icon" href="logo.png" />
        <link rel="apple-touch-icon-precomposed" href="icon.png" />
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
        <link rel="stylesheet/less" type="text/css" href="css/style.less" />
        <script src="css/less-1.3.0.min.js"></script>
        <style>
        /*
            img {
                border-radius: 10px;
                -webkit-transition: 500ms;
            }
            img:hover {
                box-shadow: 0px 0px 10px 0px #222;
            }
            */
        </style>

        <script type="text/template" id="header">
            <div class="page-header">
                <h1>{header} <small></small></h1>
            </div>
        </script>

        <script type="text/template" id="cell">
            <div class="thumbnail">
                <div class="caption">
                    <h4>{name}</h4>
                    <p>{description}</p>
                    <p class="text-center">
                        <img alt="screenshot" src="{icon}" class="img-rounded" />
                    </p>
                    <p>
                        <a href="{url}" class="btn btn-large btn-block btn-inverse">
                            View Demo »
                        </a>
                    </p>
                </div>
            </div>
        </script>

        <script src="build/tmlib.js"></script>
        <script>
            var data = {
                examples: {
                    header: "Examples",
                    data: [
                        {
                            name: 'Circle',
                            description: 'dummy',
                            url: 'examples/circle/index.html',
                            icon: 'examples/circle/icon.png',
                        },
                        {
                            name: 'Circle Collision',
                            description: '',
                            url: 'examples/circle-collision/index.html',
                            icon: 'examples/circle-collision/icon.png',
                        },
                        {
                            name: 'Filter',
                            description: '',
                            url: 'examples/filter/index.html',
                            icon: 'examples/filter/icon.png',
                        },
                        {
                            name: 'Juggling',
                            description: '',
                            url: 'examples/juggling/index.html',
                            icon: 'examples/juggling/icon.png',
                        },
                        {
                            name: 'Magic Square',
                            description: '',
                            url: 'examples/magic-square/index.html',
                            icon: 'examples/magic-square/icon.png',
                        },
                        {
                            name: 'Paint',
                            description: '',
                            url: 'examples/paint/index.html',
                            icon: 'examples/paint/icon.png',
                        },
                        {
                            name: 'Piano',
                            description: '',
                            url: 'examples/piano/index.html',
                            icon: 'examples/piano/icon.png',
                        },
                        {
                            name: 'Pursuit',
                            description: '',
                            url: 'examples/pursuit/index.html',
                            icon: 'examples/pursuit/icon.png',
                        },
                        {
                            name: 'Snow',
                            description: '',
                            url: 'examples/snow/index.html',
                            icon: 'examples/snow/icon.png',
                        },
                        {
                            name: 'Torne Interface',
                            description: '',
                            url: 'examples/torne-interface/index.html',
                            icon: 'examples/torne-interface/icon.png',
                        },
                        {
                            name: 'Unit Circle',
                            description: '',
                            url: 'examples/unit-circle/index.html',
                            icon: 'examples/unit-circle/icon.png',
                        },
                        {
                            name: 'Particle',
                            description: '',
                            url: 'examples/particle/index.html',
                            icon: 'examples/particle/icon.png',
                        },
                        {
                            name: 'Text Effect',
                            description: '',
                            url: 'examples/text-effect/index.html',
                            icon: 'examples/text-effect/icon.png',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                    ]

                },
                game: {
                    header: "Game",
                    data: [
                        {
                            name: 'Shooting',
                            description: 'サンプルとして作ったシューティングゲーム',
                            url: 'examples/shooting/index.html',
                            icon: 'examples/shooting/icon.png',
                        },
                        {
                            name: 'Web Reverse Reverse',
                            description: '<a href="https://twitter.com/Rosetta_Halt">@Rosetta_Halt</a> が iPhone アプリとして作っていたものを tmlib.js を使って Web に完全移植!! アプリ並のクォリティです.',
                            url: 'http://webrxr.github.com/RxR/',
                            icon: 'https://raw.github.com/webrxr/RxR/master/img/icon/Icon@2x.png',
                        },
                        {
                            name: 'GL-Shooter',
                            description: '<a href="https://twitter.com/daishi_hmr">@daishi_hmr</a> san が tmlib.js × <a href="https://github.com/daishihmr/bulletml.js">bulletml.js</a> を使って作られた本格弾幕シューティング! Web 上で作られたゲームの中でもトップクラス!!?',
                            url: 'http://9leap.net/games/2877',
                            icon: 'http://9leap.net/screenshots//140x140/2877_140',
                        },
                    ],
                },
                "Three.js": {
                    header: "Three.js",
                    data: [
                        {
                            name: 'Circle',
                            description: 'dummy',
                            url: 'examples/circle/index.html',
                            icon: 'examples/circle/icon.png',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                    ]
                },
                webaudio: {
                    header: "WebAudio API",
                    data: [
                        {
                            name: 'Circle',
                            description: 'dummy',
                            url: 'examples/circle/index.html',
                            icon: 'examples/circle/icon.png',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                        {
                            name: '',
                            description: '',
                            url: '',
                            icon: '',
                        },
                    ]
                },
            };

            window.onload = function() {
                var container = tm.dom.Element("body > .container");

                for (var key in data) {
                    var d = data[key];

                    renderHeader(d, container);

                    var tempData = dataToTable(d.data, 4);
                    renderThumbnails(tempData, container);
                }

            };

            var renderHeader = function(data, container) {
                var template = tm.dom.Element("#header").html;

                container.html += template.format(data);
            };

            var dataToTable = function(data, row) {
                row = row || 4;
                var list = [];
                var temp = null;

                for (var i=0; i<data.length; ++i) {
                    if ((i%row) == 0) {
                        temp = [];
                        list.push(temp);
                    }
                    temp.push(data[i]);
                }
                return list;
            };

            var renderThumbnails = function(data, container) {
                var template = tm.dom.Element("#cell").html;

                for (var i=0; i<data.length; ++i) {
                    var cell = data[i];
                    var rowSize = (12/cell.length)|0;

                    var row = container.create("div");
                    row.classList.add("row-fluid");
                    var ul = row.create("ul");
                    ul.classList.add("thumbnails");

                    for (var j=0; j<cell.length; ++j) {
                        var d = cell[j];
                        var li = ul.create("li");
                        li.classList.add("span" + rowSize);
                        li.html = template.format(d);
                    }
                }
            };
        </script>
    </head>
    
    <body>

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="#">tmlib.js</a>
                    <div class="nav-collapse">
                        <ul class="nav">
                            <li><a href="https://github.com/phi1618/tmlib.js">Github</a></li>
                            <li><a href="http://phi1618.github.com/tmlib.js/docs/index.html">Docs</a></li>
                            <li><a href="http://tmlife.net">Blog</a></li>
                            <li><a href="https://twitter.com/phi_jp">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="hero-unit">
                <h1>tmlib.js <small>javascript library for game and tool</small></h1>
                <br>

                <div class="row">
                    <div class="span3">
                        <img alt="screenshot" src="logo.png" />
                    </div>
                    <div class="span6">
                        <p>
                            tmlib.js is javascript library. nannkakaku
                        </p>
                        <p>
                            <a class="btn btn-primary btn-large" href="https://github.com/phi1618/tmlib.js" target="_blank">
                                Go Github »
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <p>
                    Copyright © TM Life. All Rights Reserved.
                </p>
                <ul class="footer-links">
                    <li><a href="http://tmlife.net">Blog</a></li>
                    <li class="muted">·</li>
                    <li><a href="https://github.com/phi1618/tmlib.js/issues?state=open">Issues</a></li>
                    <li class="muted">·</li>
                    <li><a href="https://github.com/phi1618/tmlib.js/blob/master/CHANGELOG.md">Changelog</a></li>
                </ul>
            </div>
        </footer>

        <!-- Github ribbon -->
        <a href="https://github.com/phi1618/tmlib.js/" target="_blank"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 9999;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
    </body>
    
</html>