
/**
 * リソースの読み込み
 */
tm.preload(function() {

	tm.graphics.TextureManager.add("mapImage", "http://enchantjs.com/images/materials/map1.png");
	tm.graphics.TextureManager.add("mapImage2", "http://assets.wonderfl.net/images/related_images/e/ef/ef41/ef415c45339b10ebe3697131179e72a5c864f3cb");
	tm.graphics.TextureManager.add("chara", "http://assets.wonderfl.net/images/related_images/3/3a/3a22/3a2215b000c245d9f0de63c7c0e69ba7a05961ab");
	tm.graphics.TextureManager.add("Dirt1_pipo",  "https://raw.github.com/omatoro/Rogue/master/rsc/%5BA%5DDirt1_pipo.png");
	tm.graphics.TextureManager.add("Grass1_pipo", "https://raw.github.com/omatoro/Rogue/master/rsc/%5BA%5DGrass1_pipo.png");
    tm.graphics.TextureManager.add("Water2_pipo", "https://raw.github.com/omatoro/Rogue/master/rsc/%5BA%5DWater2_pipo.png");

    tm.app.MapSheetManager.load("map", "map1.tmx");

    mapData = {
    	image: tm.graphics.TextureManager.get("mapImage2").element,
    	map: {
    		xIndexMax:512/32,
    		tilewidth: 32,
    		tileheight: 32,
    		width: 32,
    		height: 32,
    	},
    	layers: [
    		[
		        [-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,   0,   0,  -6,  -6,  -6,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,-6  ,-6  ,-6  ,-6  ,-6  ,   0],
		        [-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,   0, -6 ,-6  ,-6  ,   0,   0,   0,-6  ,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,-6  ,-6  ,   0],
		        [-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,-6  ,-6  ,   0,-6  ,-6  ,   0],
		        [-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,-6  ,-6  ,   0,-6  ,-6  ,   0],
		        [-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,   0,-104,-104,-104,-104,-104,-104,-104,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,-104,-104,-104,-104,-104,-104,-104,-104,-104,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,-104,-104, 104, 104, 104, 104, 104, 104,-104,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,  -6,  -6,   0,   0,   0],
		        [-6  ,   0,-104,-104, 104, 104, 104, 104, 104, 104,-104,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,-24 ,   8,   8,   8,   8,   8,   8,   8,-25 ,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,-10 ,  11,  11,  11,  11,  11,  11,  11,-26 ,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,-10 ,  11,  11,  11,  11,  11,  11,  11,-26 ,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,-40 ,-9  ,-9  ,-9  ,-9  ,-9  ,-9  ,-9  ,-41 ,   0,-6  ,   0,   0,-6  ,   0,-6  ,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,   1, 48 , 48 , 48 , 48 , 48 , 48 , 2  ,   0,   0, 103, 103, 103,   0,   0],
		        [-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,-6  ,   0,-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,-1  , 48 , 48 , 48 , 48 , 48 , 48 , 2  ,   0,   0, 103, 103,-103,-6  ,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  , 48 , 48 , 48 , 48 , 48 , 48 , 2  ,   0,   0,-103, 103, 103,   0,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,  66,   0,   0,   0,   0,   0,   0],
		        [   0,   0,   0,-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   -6,  0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,  66,   0,   0,   0,   0,   0,   0],
		        [   0,-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,  66,   0,   0,   0,   0,   0,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,  82,  51,  51,  51,  51,  51,  51],
		        [   0,-6  ,-6  ,-6  ,   0,-6  ,   0,   0,-6  ,   0,  -6,   0,   0,-6  ,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,-98 ,-98 ,  97,-97 ,-97 ,-97 ,-97 ],
		        [   0,-6  ,-6  ,-6  ,   0,-6  ,   0,   0,-6  ,   0,  -6,   0,   0,-6  ,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,-112,-113, 113,-113,-113,-113,-113],
		        [   0,   0,   0,   0,   0,-6  ,-6  ,-6  ,-6  ,   0,  -6,-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [   0,-6  ,-6  ,-6  ,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,-6  ,-6  ,   0,   0,   0,-6  ,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,-6  ,-6  ,   0,   0,   0,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0],
		        [   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,-1  ,-48 ,-48 ,-48 ,-48 ,-48 ,-48 ,-2  ,   0,   0,   0,   0,   0,   0,   0]
			],
			[
		        [ 154, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 156,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 170, 171, 171, 171, 171, 171, 171, 171, 171, 171, 171, 171, 172,-1  ,-1  , 134, 135, 136,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 212, 213, 142, 212, 213,-1  ],
		        [ 227, 226, 227,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 226, 227, 226,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 227, 226, 227,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 224, 225,-1  ,-1  ,-1  ,-1  , 102,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  , 177,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 101, 176, 101,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  , 179,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 126, 127,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 198, 198,-1  , 126, 127,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 165, 68 ,-1  , 68 , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 214, 214,-1  , 126, 127,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 165, 68 ,-1  , 83 , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 165, 68 ,-1  , 83 , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  , 105, 106, 122,-1  ,-1  ,-1  , 124, 108, 109,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 210, 211,-1  ,-1  ,-1  ],
		        [-1  ,-1  , 121, 122,-1  ,-1  , 123,-1  ,-1  , 124, 125,-1  ,-1  ,-1  , 165, 68 ,-1  , 68 , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,14  ,15  ,-1  ,14  ,15  ,-1  ,-1  ,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,62  ,63  ,-1  ,46  ,47  ,-1  ,-1  ,-1  ,-1  ,-1  , 165, 68 ,-1  , 68 , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,  12,-1  ,-1  ,  12,-1  ,-1  ,  45,-1  ,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,  28,-1  ,-1  ,  28,-1  ,-1  ,  44,-1  ,-1  ,-1  ,-1  , 165, 68 ,-1  , 68 , 165,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 53 , 53 , 53 , 53 , 53 , 53 , 53 , 53 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 182,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 69 , 69 , 69 , 69 , 69 , 69 , 69 , 69 ,-1  ,-1  , 148,-1  , 148,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 70 , 69 , 69 , 69 , 69 , 69 , 69 , 69 ,-1  ,-1  ,-1  , 148, 147, 100,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 86 , 85 , 85 , 85 , 85 , 85 , 85 , 85 ,-1  ,-1  , 147, 148,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 149,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  , 215, 216, 217,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  , 139, 139, 139,-1  ,  78,  79,   4,   5,-1  , 157, 158, 159,  55,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 128,-1  ,-1  ,-1  ,-1  ],
		        [-1  , 140, 141, 180,-1  ,  94,  95,  20,  21,-1  , 173, 174, 175,  71,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 128,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  , 110, 111,  36,  37,-1  , 189, 190, 191,  87,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 160,-1  , 165],
		        [-1  , 137, 138, 137,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 114, 115,-1  ,-1  ,-1  , 117,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 145, 146,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
			],
			[
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 118, 119, 120,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 196, 197,-1  , 196, 197,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 192, 193, 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 208, 209, 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  , 178,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,  72,  56,  88,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  , 52 ,-1  , 52 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,  72,  58,  75,  60,  88,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,  72,  58,  74,  75,  76,  60,  88,-1  ,-1  , 186,-1  ,-1  , 52 ,-1  , 67 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,  57,  58,  74,  90,  91,  92,  76,  60,  61,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,  73,  74,  90, 106, 107, 108,  92,  76,  77,-1  , 186,-1  ,-1  , 52 ,-1  , 67 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],    
		        [ 185,-1  ,  89,  90, 106, 122,-1  , 124, 108,  92,  93,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 194, 195,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  , 52 ,-1  , 52 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  , 52 ,-1  , 52 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  , 52 ,-1  , 52 ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 185,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 186,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 152, 184, 184, 184, 184, 184, 184, 184, 150,-1  , 151, 184, 153,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [ 168, 183, 183, 183, 183, 183, 183, 183, 166,-1  , 167, 183, 169,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 84 ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  , 199, 200, 201,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 131, 132, 133,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  , 129, 130,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ],
		        [-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ,-1  ]
			],
    	],
    };
});


tm.define("tests.mapsprite.DemoScene", {
    superClass: "tm.app.Scene",

    init: function() {
        this.superInit();

        tm.app.MapSprite("map").addChildTo(this);
        this.map = tm.app.MapSprite(mapData).addChildTo(this);

		this.vx = 0;
		this.vy = 0;
    },


    update: function(app) {
    	var p = app.pointing;

    	if (p.getPointing()) {
    		this.vx = p.deltaPosition.x;
    		this.vy = p.deltaPosition.y;
	    	this.map.x += this.vx;
	    	this.map.y += this.vy;
    	}
    	else {
	    	this.map.x += (this.vx*=0.8);
	    	this.map.y += (this.vy*=0.8);
    	}
    },
});