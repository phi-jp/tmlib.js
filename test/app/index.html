<!DOCTYPE html> 
<html lang="ja"> 
    <head> 
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Test | tmlib.js</title>
        
        <link rel="stylesheet" type="text/css" href="../../css/bootstrap.css" />
        <style>
            body {
                font-family: "Meiryo", "メイリオ", "ヒラギノ角ゴ Pro W3", sans-serif;
                margin-top: 50px;
            }
            #preview {
                border: 0px;
                box-shadow: 0px 0px 4px 0px #444;
            }
        </style>

        <script src="../../src/tmlib.js"></script>
        
        <script src="../../src/core/object.js"></script>
        <script src="../../src/core/string.js"></script>
        <script src="../../src/core/number.js"></script>
        <script src="../../src/core/array.js"></script>
        <script src="../../src/core/function.js"></script>
        <script src="../../src/core/date.js"></script>
        <script src="../../src/core/math.js"></script>

        <script src="../../src/util/random.js"></script>
        <script src="../../src/util/ajax.js"></script>
        <script src="../../src/util/file.js"></script>
        <script src="../../src/util/script.js"></script>
        <script src="../../src/util/timeline.js"></script>
        <script src="../../src/util/data.js"></script>
        <script src="../../src/util/script.js"></script>
        <script src="../../src/util/querystring.js"></script>
        <script src="../../src/util/type.js"></script>
        
        <script src="../../src/geom/vector2.js"></script>
        <script src="../../src/geom/vector3.js"></script>
        <script src="../../src/geom/matrix33.js"></script>
        <script src="../../src/geom/matrix44.js"></script>
        <script src="../../src/geom/rect.js"></script>
        <script src="../../src/geom/circle.js"></script>

        <script src="../../src/event/event.js"></script>
        <script src="../../src/event/eventdispatcher.js"></script>
        
        <script src="../../src/asset/texture.js"></script>
        <script src="../../src/asset/assetmanager.js"></script>

        <script src="../../src/collision/collision.js"></script>
        
        <script src="../../src/anim/tween.js"></script>

        <script src="../../src/dom/element.js"></script>
        <script src="../../src/dom/style.js"></script>
        <script src="../../src/dom/event.js"></script>
        <script src="../../src/dom/attr.js"></script>
        
        <script src="../../src/input/keyboard.js"></script>
        <script src="../../src/input/mouse.js"></script>
        <script src="../../src/input/touch.js"></script>
        <script src="../../src/input/accelerometer.js"></script>
        
        <script src="../../src/graphics/canvas.js"></script>
        <script src="../../src/graphics/gradient.js"></script>
        
        <script src="../../src/app/element.js"></script>
        <script src="../../src/app/object2d.js"></script>
        <script src="../../src/app/canvaselement.js"></script>
        <script src="../../src/app/sprite.js"></script>
        <script src="../../src/app/animationsprite.js"></script>
        <script src="../../src/app/shape.js"></script>
        <script src="../../src/app/label.js"></script>
        <script src="../../src/app/scene.js"></script>
        <script src="../../src/app/mapsprite.js"></script>
        <script src="../../src/app/button.js"></script>
        <script src="../../src/app/userinterface.js"></script>
        <script src="../../src/app/canvasapp.js"></script>
        <script src="../../src/app/renderer.js"></script>
        <script src="../../src/app/collision.js"></script>
        <script src="../../src/app/timeline.js"></script>
        <script src="../../src/app/tweener.js"></script>

        <script src="../../src/sound/sound.js"></script>
        <script src="../../src/sound/webaudio.js"></script>

        <script src="../../src/social/twitter.js"></script>
        <script src="../../src/social/nineleap.js"></script>

        
        <script src="mapsprite.js"></script>
        <script src="benchmark.js"></script>
        <script src="animationsprite.js"></script>
        <script src="tweener.js"></script>
        <script src="object2d.js"></script>
        <script src="canvaselement.js"></script>
        <script src="button.js"></script>
        <script src="timeline.js"></script>
        <script src="interaction.js"></script>
        <script src="collision.js"></script>
        <script src="dialog.js"></script>

        <script id="test-script">
            
            var SCREEN_WIDTH    = 640;
            var SCREEN_HEIGHT   = 480;
            var SCREEN_CENTER_X = SCREEN_WIDTH/2;
            var SCREEN_CENTER_Y = SCREEN_HEIGHT/2;

            /*
             * Test
             */
            tm.main(function() {
                setTableOfContents();

                // テストを実行
                var query = window.location.hash.substr(1);
                if (query) refreshIframe(query);
            });

            var setTableOfContents = function() {
                var testsElement = tm.dom.Element("#tests");

                for (var key in tests) {
                    var li = testsElement.create("li");
                    li.html = key;
                    var ul = li.create("ul");

                    for (var key2 in tests[key]) {
                        var a = ul.create("li").create("a");
                        a.html = key2;
                        a.attr.set("href", ["tests", key, key2].join('.'));
                        a.event.click(function(e) {
                            refreshIframe(this.attr.get("href"));
                            e.stop();
                        });
                    }
                }
            };

            var refreshIframe = function(test) {
                var preview = tm.dom.Element("#preview");
                preview.attr.set("src", "frame.html?" + test);

                location.hash = test;
            };

            
        </script>
    </head>
    
    <body>
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="#">tmlib.js</a>
                    <div class="nav-collapse">
                        <ul class="nav">
                            <li><a href="https://github.com/phi1618/tmlib.js">Github</a></li>
                            <li><a href="http://phi1618.github.com/tmlib.js/docs/index.html">Docs</a></li>
                            <li><a href="http://tmlife.net">Blog</a></li>
                            <li><a href="https://twitter.com/phi_jp">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="span3">
                    <h2>Test List</h2>
                    <ul id="tests">
                </div>
                <div id="content" class="span9" style="position:fixed; margin-left: 260px">
                    <h2>Canvas</h2>
                    <iframe id="preview" width="640" height="480"></iframe>
                </div>
            </div>
        </div>
        <br /><br /><br /><br />
        <br /><br /><br /><br />
        <br /><br /><br /><br />
        <br /><br /><br /><br />
    </body>
</html>
