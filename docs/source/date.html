<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
 * date.js
 */

(function() {
    
<span id='global-Date'>    /**
</span>     * @class   global.Date
     * Date(日付)の拡張
     */
    
    var MONTH = [
        &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;
    ];
    
    var WEEK = [
        &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;
    ];
    
<span id='global-Date-method-format'>    /**
</span>     * @method  format
     * 日付フォーマットに合わせた文字列を返す
     */
    Date.defineInstanceMethod(&quot;format&quot;, function(pattern) {
        /*
        var str = &quot;{y}/{m}/{d}&quot;.format({
            y: this.getYear()+1900,
            m: this.getMonth()+1,
            d: this.getDate(),
        });
        
        return str;
        */
        
        var year    = this.getFullYear();
        var month   = this.getMonth();
        var date    = this.getDate();
        var day     = this.getDay();
        var hours   = this.getHours();
        var minutes = this.getMinutes();
        var seconds = this.getSeconds();
        var millseconds = this.getMilliseconds();
        var str = &quot;&quot;;
        
        for (var i=0,len=pattern.length; i&lt;len; ++i) {
            var ch = pattern.charAt(i);
            var temp = &quot;&quot;;
            switch(ch) {
                // 日
                case &quot;d&quot;: temp = date.padding(2, '0'); break;
                case &quot;D&quot;: temp = WEEK[day].substr(0, 3); break;
                case &quot;j&quot;: temp = date; break;
                case &quot;l&quot;: temp = WEEK[day]; break;
                // case &quot;N&quot;: temp = ; break;
                // case &quot;S&quot;: temp = ; break;
                // case &quot;w&quot;: temp = ; break;
                // case &quot;z&quot;: temp = ; break;
                
                // 月
                case &quot;F&quot;: temp = MONTH[month]; break;
                case &quot;m&quot;: temp = (month+1).padding(2, '0'); break;
                case &quot;M&quot;: temp = MONTH[month].substr(0, 3); break;
                case &quot;n&quot;: temp = (month+1); break;
                // case &quot;t&quot;: temp = (month+1); break;
                
                // 年
                // case &quot;L&quot;: temp = ; break;
                // case &quot;o&quot;: temp = ; break;
                case &quot;Y&quot;: temp = year; break;
                case &quot;y&quot;: temp = year.toString().substr(2, 2); break;
                
                
                // 時間
                // case &quot;a&quot;: temp = ; break;
                // case &quot;A&quot;: temp = ; break;
                // case &quot;B&quot;: temp = ; break;
                // case &quot;g&quot;: temp = ; break;
                case &quot;G&quot;: temp = hours; break;
                // case &quot;h&quot;: temp = ; break;
                case &quot;H&quot;: temp = hours.padding(2, '0'); break;
                case &quot;i&quot;: temp = minutes.padding(2, '0'); break;
                case &quot;s&quot;: temp = seconds.padding(2, '0'); break;
                case &quot;S&quot;: temp = millseconds.padding(3, '0'); break;
                
                default : temp = ch; break;
            }
            str += temp;
        }
        return str;
    });
    
})();

</pre>
</body>
</html>
