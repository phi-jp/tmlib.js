<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
 * texture.js
 */

(function() {
    
<span id='tm-asset-Texture'>    /**
</span>     * @class tm.asset.Texture
     * テクスチャクラス
     * @extends tm.event.EventDispatcher
     */
    tm.define(&quot;tm.asset.Texture&quot;, {
        superClass: &quot;tm.event.EventDispatcher&quot;,
<span id='tm-asset-Texture-property-element'>        
</span>        /**
         * @property
         * window.document.Image
         */
<span id='tm-asset-Texture-property-loaded'>        element: null,
</span>
        /**
         * @property
         * ロード済みかどうか
         */
<span id='tm-asset-Texture-method-constructor'>        loaded: false,
</span>        
        /**
         * @constructor
         * コンストラクタ
         */
        init: function(src) {
            this.superInit();
            
            this.element = new Image();
            this.element.src = src;
            
            var self = this;
            this.element.onload = function() {
                self.loaded = true;
                var e = tm.event.Event(&quot;load&quot;);
<span id='tm-asset-Texture-property-getElement'>                self.dispatchEvent( e );
</span>            };
        },
        
        /**
         * @property
         * window.document.Imageクラスのインスタンスを返す
         */
<span id='tm-asset-Texture-property-width'>        getElement: function() {
</span>            return this.element;
        },
    });
    
    /**
     * @property    width
     * 幅
     */
<span id='tm-asset-Texture-property-height'>    tm.asset.Texture.prototype.getter(&quot;width&quot;, function() {
</span>        return this.element.width;
    });
    
    /**
     * @property    height
     * 高さ
     */
    tm.asset.Texture.prototype.getter(&quot;height&quot;, function() {
        return this.element.height;
    });
    
})();

(function(){

    /*
     * @static
     * @method
     * ### ref
     * http://dummyimage.com/
     */
    /*
    tm.graphics.TextureManager.loadDummy = function(key, param) {
        param = param || {};

        var paths = [&quot;http://dummyimage.com&quot;];
        paths.push(param.size || 256);
        paths.push(param.bgColor || &quot;aaa&quot;);
        paths.push(param.color || &quot;000&quot;);
        paths.push(param.format || &quot;png&quot;);

        var src = paths.join('/');
        if (param.text) {
            src += '&amp;text=' + param.text;
        }

        this.textures[key] = tm.graphics.Texture(src);
        this.loaded = false;
    };
    */

})();


</pre>
</body>
</html>
